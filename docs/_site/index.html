<!DOCTYPE html>

<html lang="en-US">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge">

  <link rel="stylesheet" href="/pseudoksmt-website/assets/css/just-the-docs-default.css">

  

  
    <script src="/pseudoksmt-website/assets/js/vendor/lunr.min.js"></script>
  

  <script src="/pseudoksmt-website/assets/js/just-the-docs.js"></script>

  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Overview | KSMT</title>
<meta name="generator" content="Jekyll v4.3.2" />
<meta property="og:title" content="Overview" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Kotlin API for SMT solvers" />
<meta property="og:description" content="Kotlin API for SMT solvers" />
<link rel="canonical" href="http://localhost:4000/pseudoksmt-website/" />
<meta property="og:url" content="http://localhost:4000/pseudoksmt-website/" />
<meta property="og:site_name" content="KSMT" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Overview" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebSite","description":"Kotlin API for SMT solvers","headline":"Overview","name":"KSMT","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"http://localhost:4000/pseudoksmt-website/assets/img/ksmt-logo-black6.png"}},"url":"http://localhost:4000/pseudoksmt-website/"}</script>
<!-- End Jekyll SEO tag -->


  

</head>

<body>
<a class="skip-to-main" href="#main-content">Skip to main content</a>
<svg xmlns="http://www.w3.org/2000/svg" class="d-none">
  <symbol id="svg-link" viewBox="0 0 24 24">
  <title>Link</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link">
    <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>
  </svg>
</symbol>

  <symbol id="svg-menu" viewBox="0 0 24 24">
  <title>Menu</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu">
    <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line>
  </svg>
</symbol>

  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
  <title>Expand</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right">
    <polyline points="9 18 15 12 9 6"></polyline>
  </svg>
</symbol>

  <!-- Feather. MIT License: https://github.com/feathericons/feather/blob/master/LICENSE -->
<symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link">
  <title id="svg-external-link-title">(external link)</title>
  <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line>
</symbol>

  
    <symbol id="svg-doc" viewBox="0 0 24 24">
  <title>Document</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file">
    <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline>
  </svg>
</symbol>

    <symbol id="svg-search" viewBox="0 0 24 24">
  <title>Search</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search">
    <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line>
  </svg>
</symbol>

  
  
    <!-- Bootstrap Icons. MIT License: https://github.com/twbs/icons/blob/main/LICENSE.md -->
<symbol id="svg-copy" viewBox="0 0 16 16">
  <title>Copy</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16">
    <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/>
    <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/>
  </svg>
</symbol>
<symbol id="svg-copied" viewBox="0 0 16 16">
  <title>Copied</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16">
    <path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"/>
    <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"/>
  </svg>
</symbol>

  
</svg>

<div class="side-bar">
    <div class="site-header" role="banner">
        <a href="/pseudoksmt-website/" class="site-title lh-tight"><!--<img src="/assets/img/ksmt-logo-black2.png" width="60">-->
<!--<pre> </pre>-->

<!---->
<!--<div class="site-logo" role="img" aria-label="KSMT"></div>-->
<!--<img src="/docs/assets/img/ksmt-logo-black2.png">-->
<!---->


    <div class="site-logo"></div>
</a>
        <button id="menu-button" class="site-button btn-reset" aria-label="Toggle menu" aria-pressed="false">
            <svg viewBox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-menu"></use></svg>
            </a>
    </div>
    <nav aria-label="Main" id="site-nav" class="site-nav">
        
        
        <ul class="nav-list"><li class="nav-list-item active"><a href="/pseudoksmt-website/" class="nav-list-link active">Overview</a></li><li class="nav-list-item"><a href="/pseudoksmt-website/getting-started.html" class="nav-list-link">Getting started</a></li><li class="nav-list-item"><a href="/pseudoksmt-website/advanced-usage.html" class="nav-list-link">Advanced usage</a></li><li class="nav-list-item"><a href="/pseudoksmt-website/custom-expressions.html" class="nav-list-link">Custom expressions</a></li><li class="nav-list-item"><a href="/pseudoksmt-website/api/" class="nav-list-link">API reference</a></li></ul>
        
    </nav>

    
    
<!--    <footer class="site-footer">-->
<!--        This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll.-->
<!--    </footer>-->
    
</div>

<div class="main" id="top">
    <div id="main-header" class="main-header">
  
    

<div class="search" role="search">
  <div class="search-input-wrap">
    <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search KSMT" aria-label="Search KSMT" autocomplete="off">
    <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label>
  </div>
  <div id="search-results" class="search-results"></div>
</div>

  
  
  
    <nav aria-label="Auxiliary" class="aux-nav">
  <ul class="aux-nav-list">
    
      <li class="aux-nav-list-item">
        <a href="https://github.com/ksmt" class="site-button"
          
          target="_blank" rel="noopener noreferrer"
          
        >
          KSMT on GitHub
        </a>
      </li>
    
  </ul>
</nav>

  
</div>

    <div id="main-content-wrap" class="main-content-wrap">
        
        <div id="main-content" class="main-content">
            <main>
                
                <h1 class="no_toc" id="kotlin-api-for-various-smt-solvers">
  
  
    <a href="#kotlin-api-for-various-smt-solvers" class="anchor-heading" aria-labelledby="kotlin-api-for-various-smt-solvers"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Kotlin API for various SMT solvers
  
  
</h1>
    

<p><a href="https://github.com/UnitTestBot/ksmt/actions/workflows/build-and-run-tests.yml"><img src="https://github.com/UnitTestBot/ksmt/actions/workflows/build-and-run-tests.yml/badge.svg" alt="KSMT: build" /></a>
<a href="https://central.sonatype.com/artifact/io.ksmt/ksmt-core/0.5.3"><img src="https://img.shields.io/maven-central/v/io.ksmt/ksmt-core" alt="Maven Central" /></a>
<a href="https://javadoc.io/doc/io.ksmt/ksmt-core"><img src="https://javadoc.io/badge2/io.ksmt/ksmt-core/javadoc.svg" alt="javadoc" /></a></p>

<blockquote class="highlight">
  <p>Get the most out of SMT solving with the unified Kotlin/Java API:</p>
  <ul>
    <li>Supporting more <a href="#supported-solvers-and-theories">solvers and theories</a> â€” for all popular operating systems</li>
    <li><a href="#solver-agnostic-formula-representation">Solver-agnostic formula representation</a> and easy-to-use <a href="#kotlin-based-dsl-for-smt-formulas">DSL</a></li>
    <li>Utilities to <a href="#utilities-to-simplify-and-transform-expressions">simplify and transform</a> your expressions</li>
    <li>Switching between solvers and support for <a href="#using-multiple-solvers-portfolio-mode">portfolio mode</a></li>
    <li>Running solvers in a <a href="#running-solvers-in-a-separate-processes">separate process</a> to reduce timeout-related crashes</li>
    <li>Streamlined <a href="#ksmt-distribution">solver delivery</a> with no need for building a solver or implementing JVM bindings</li>
  </ul>
</blockquote><hr />
<h2 id="quick-start">
  
  
    <a href="#quick-start" class="anchor-heading" aria-labelledby="quick-start"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Quick start
  
  
</h2>
    

<p>To start using KSMT, install it via <a href="https://gradle.org/">Gradle</a>:</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// core </span>
<span class="nf">implementation</span><span class="p">(</span><span class="s">"io.ksmt:ksmt-core:0.5.3"</span><span class="p">)</span>
<span class="c1">// z3 solver</span>
<span class="nf">implementation</span><span class="p">(</span><span class="s">"io.ksmt:ksmt-z3:0.5.3"</span><span class="p">)</span>
</code></pre></div></div>

<p>Find basic instructions in the <a href="getting-started">Getting started</a> guide and try it out with the 
<a href="https://github.com/UnitTestBot/ksmt/tree/main/examples/src/main/kotlin">Kotlin</a> or <a href="https://github.com/UnitTestBot/ksmt/tree/main/examples/src/main/java">Java</a> examples.</p>

<p>To go beyond the basic scenarios, proceed to the <a href="advanced-usage">Advanced usage</a> guide and try the <a href="https://github.com/UnitTestBot/ksmt/tree/main/examples/src/main/kotlin/AdvancedExamples.kt">advanced 
example</a>.</p>

<p>To get guided experience in KSMT, step through the detailed scenario for creating 
<a href="custom-expressions">custom expressions</a>.</p>

<p>Check the <a href="https://github.com/UnitTestBot/ksmt/blob/main/Requirements.md">Roadmap</a> to know more about current
feature support and plans for the nearest future.</p><hr />
<h2 id="supported-solvers-and-theories">
  
  
    <a href="#supported-solvers-and-theories" class="anchor-heading" aria-labelledby="supported-solvers-and-theories"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Supported solvers and theories
  
  
</h2>
    

<p>KSMT provides support for various solvers:</p>

<table>
  <thead>
    <tr>
      <th>SMT solver</th>
      <th style="text-align: center">Linux-x64</th>
      <th style="text-align: center">Windows-x64</th>
      <th style="text-align: center">macOS-aarch64</th>
      <th style="text-align: center">macOS-x64</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href="https://github.com/Z3Prover/z3">Z3</a></td>
      <td style="text-align: center">âœ”</td>
      <td style="text-align: center">âœ”</td>
      <td style="text-align: center">âœ”</td>
      <td style="text-align: center">âœ”</td>
    </tr>
    <tr>
      <td><a href="https://github.com/bitwuzla/bitwuzla">Bitwuzla</a></td>
      <td style="text-align: center">âœ”</td>
      <td style="text-align: center">âœ”</td>
      <td style="text-align: center">âœ”</td>
      <td style="text-align: center">Â </td>
    </tr>
    <tr>
      <td><a href="https://github.com/SRI-CSL/yices2">Yices2</a></td>
      <td style="text-align: center">âœ”</td>
      <td style="text-align: center">âœ”</td>
      <td style="text-align: center">âœ”</td>
      <td style="text-align: center">Â </td>
    </tr>
    <tr>
      <td><a href="https://github.com/cvc5/cvc5">cvc5</a></td>
      <td style="text-align: center">âœ”</td>
      <td style="text-align: center">âœ”</td>
      <td style="text-align: center">âœ”</td>
      <td style="text-align: center">Â </td>
    </tr>
  </tbody>
</table>

<p>You can also use SMT solvers across multiple theories:</p>

<table>
  <thead>
    <tr>
      <th>Theory</th>
      <th style="text-align: center">Z3</th>
      <th style="text-align: center">Bitwuzla</th>
      <th style="text-align: center">Yices2</th>
      <th style="text-align: center">cvc5</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Bitvectors</td>
      <td style="text-align: center">âœ”</td>
      <td style="text-align: center">âœ”</td>
      <td style="text-align: center">âœ”</td>
      <td style="text-align: center">âœ”</td>
    </tr>
    <tr>
      <td>Arrays</td>
      <td style="text-align: center">âœ”</td>
      <td style="text-align: center">âœ”</td>
      <td style="text-align: center">âœ”</td>
      <td style="text-align: center">âœ”</td>
    </tr>
    <tr>
      <td>IEEE Floats</td>
      <td style="text-align: center">âœ”</td>
      <td style="text-align: center">âœ”</td>
      <td style="text-align: center">Â </td>
      <td style="text-align: center">âœ”</td>
    </tr>
    <tr>
      <td>Uninterpreted Functions</td>
      <td style="text-align: center">âœ”</td>
      <td style="text-align: center">âœ”</td>
      <td style="text-align: center">âœ”</td>
      <td style="text-align: center">âœ”</td>
    </tr>
    <tr>
      <td>Arithmetic</td>
      <td style="text-align: center">âœ”</td>
      <td style="text-align: center">Â </td>
      <td style="text-align: center">âœ”</td>
      <td style="text-align: center">âœ”</td>
    </tr>
  </tbody>
</table><hr />
<h2 id="solver-agnostic-formula-representation">
  
  
    <a href="#solver-agnostic-formula-representation" class="anchor-heading" aria-labelledby="solver-agnostic-formula-representation"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Solver-agnostic formula representation
  
  
</h2>
    

<p>Various scenarios are available for using SMT solvers: you can use a single solver to determine whether a formula is
satisfiable, or you can apply several solvers to the same expression successively. In the latter case, you need a <em>solver-agnostic formula representation</em>.</p>

<p>We implemented it in KSMT, so you can</p>
<ul>
  <li>transform expressions from the solver native representation to KSMT representation and vice versa,</li>
  <li>use <em>formula introspection</em>,</li>
  <li>manipulate expressions without involving a solver,</li>
  <li>use expressions even if the solver is freed.</li>
</ul>

<p>Expression interning (hash consing) affords faster expression comparison: we do not need to compare the expression
trees. Expressions are deduplicated, so we avoid redundant memory allocation.</p><hr />
<h2 id="kotlin-based-dsl-for-smt-formulas">
  
  
    <a href="#kotlin-based-dsl-for-smt-formulas" class="anchor-heading" aria-labelledby="kotlin-based-dsl-for-smt-formulas"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Kotlin-based DSL for SMT formulas
  
  
</h2>
    

<p>KSMT provides you with a unified DSL for SMT expressions:</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">val</span> <span class="py">array</span> <span class="k">by</span> <span class="nf">mkArraySort</span><span class="p">(</span><span class="n">intSort</span><span class="p">,</span> <span class="n">intSort</span><span class="p">)</span>
<span class="kd">val</span> <span class="py">index</span> <span class="k">by</span> <span class="n">intSort</span>
<span class="kd">val</span> <span class="py">value</span> <span class="k">by</span> <span class="n">intSort</span>

<span class="kd">val</span> <span class="py">expr</span> <span class="p">=</span> <span class="p">(</span><span class="n">array</span><span class="p">.</span><span class="nf">select</span><span class="p">(</span><span class="n">index</span> <span class="p">-</span> <span class="mi">1</span><span class="p">.</span><span class="n">expr</span><span class="p">)</span> <span class="n">lt</span> <span class="n">value</span><span class="p">)</span> <span class="nf">and</span>
        <span class="p">(</span><span class="n">array</span><span class="p">.</span><span class="nf">select</span><span class="p">(</span><span class="n">index</span> <span class="p">+</span> <span class="mi">1</span><span class="p">.</span><span class="n">expr</span><span class="p">)</span> <span class="n">gt</span> <span class="n">value</span><span class="p">)</span>
</code></pre></div></div><hr />
<h2 id="utilities-to-simplify-and-transform-expressions">
  
  
    <a href="#utilities-to-simplify-and-transform-expressions" class="anchor-heading" aria-labelledby="utilities-to-simplify-and-transform-expressions"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Utilities to simplify and transform expressions
  
  
</h2>
    

<p>KSMT provides a simplification engine applicable to all supported expressions for all supported theories:</p>

<ul>
  <li>reduce expression size and complexity</li>
  <li>evaluate expressions (including those with free variables) â€” reduce your expression to a constant</li>
  <li>perform formula transformations</li>
  <li>substitute expressions</li>
</ul>

<p>KSMT simplification engine implements more than 200 rules.
By default, it attempts to apply simplifications when you create the expressions, but you can turn this
feature off, if necessary. You can also simplify an arbitrary expression manually.</p><hr />
<h2 id="using-multiple-solvers-portfolio-mode">
  
  
    <a href="#using-multiple-solvers-portfolio-mode" class="anchor-heading" aria-labelledby="using-multiple-solvers-portfolio-mode"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Using multiple solvers (portfolio mode)
  
  
</h2>
    

<p>SMT solvers may differ in performance across different formulas:
see the <a href="https://smt-comp.github.io/2022/">International Satisfiability Modulo Theories Competition</a>.</p>

<p>With KSMT portfolio solving, you can run multiple solvers in parallel on the same formula â€” until you get the first
(the fastest) result.</p>

<p>For detailed instructions on running multiple solvers, see <a href="advanced-usage">Advanced usage</a>.</p><hr />
<h2 id="running-solvers-in-a-separate-processes">
  
  
    <a href="#running-solvers-in-a-separate-processes" class="anchor-heading" aria-labelledby="running-solvers-in-a-separate-processes"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Running solvers in a separate processes
  
  
</h2>
    

<p>Most of the SMT solvers are research projects â€” they are implemented via native libraries and are sometimes not 
production ready:</p>
<ul>
  <li>they may ignore timeouts â€” they sometimes hang in a long-running operation, and you cannot interrupt it;</li>
  <li>they may suddenly crash interrupting the entire process â€” because of a pointer issue, for example.</li>
</ul>

<p>KSMT runs each solver in a separate process, which adds to stability of your application and provides support for
portfolio mode.</p><hr />
<h2 id="ksmt-distribution">
  
  
    <a href="#ksmt-distribution" class="anchor-heading" aria-labelledby="ksmt-distribution"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> KSMT distribution
  
  
</h2>
    

<p>Many solvers do not have prebuilt binaries, or binaries are for Linux only.</p>

<p>KSMT is distributed as JVM library with solver binaries provided. The library has been tested against the SMT-LIB 
benchmarks. Documentation and examples are also available.</p>

                

                
            </main>
            

<hr>
<footer>
<!--    -->
<!--    <p><a href="#top" id="back-to-top">Back to top</a></p>-->
<!--    -->

    
<p><a href="#top" id="back-to-top">Back to top</a></p>


    
</footer>

        </div>
    </div>
    
    

<div class="search-overlay"></div>

    
</div>


</body>
</html>